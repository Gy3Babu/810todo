{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/resources/index.js","src/modules/home.js","src/modules/list.js","src/resources/data/data-services.js","src/resources/data/todos.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","globalResources","Home","users","loginError","message","showLogin","showOK","showError","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","Wall","todos","parse","getItem","title","editTodoForm","showCompleted","modalTitle","selected","priorities","logout","removeItem","selectAction","id","event","index","indexOf","splice","push","$","target","toggleClass","createTodo","todoObj","todo","description","dateDue","Date","userID","_id","priority","modal","showTodo","editTodo","deleteTodo","i","l","length","completeTodo","completed","saveTodo","changeFiles","filesToUpload","Array","files","removeFile","close","alert","todoId","uploadFile","activate","getUserTodos","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","ToDos","TODOS_SERVICE","todosArray","updateArray","userId","formData","FormData","forEach","item","append","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\n\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep); \n    config.map([\n      { \n        route: ['', 'home'],\n        moduleId: './modules/home',\n        name: 'Home' \n      },\n      {\n        route: 'list',\n        moduleId: './modules/list',\n        name: 'List',\n        auth: true \n      }\n    ]);\n  }\n}\n","var authConfig = {\n  baseUrl: \"\",\n  loginUrl: 'users/login',\n  tokenName: 'token',\n  authHeader: 'Authorization',\n  authToken: '',\n  logoutRedirect: '#/'\n}\n\nexport default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport config from './auth-config';\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig) => {\n      baseConfig.configure(config);\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  config.globalResources([\n  \t'./value-converters/date-format',\n  \t'./value-converters/completed',\n  \t'./elements/flatpickr',\n  ]);\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Users} from '../resources/data/users';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(Router, Users, AuthService)\nexport class Home {\n  constructor(router, users, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.loginError = '';    \n    this.users = users;\n    this.message = 'Home';\n    this.showLogin = true;\n\t\tthis.showOK  = false;\n\t\tthis.showError  = false;\n  }\n\n\n\tlogin() {\n    \treturn this.auth.login(this.email, this.password)\n\t\t.then(response => {\n\t\t\t\tsessionStorage.setItem(\"user\", JSON.stringify(response.user));\n\t\t\t\tthis.loginError = \"\";\n\t\t\t\tthis.router.navigate('list');\n\t\t})\n\t\t.catch(error => {\n        \tconsole.log(error);\n\t\t\tthis.loginError = \"Username and or password is incorrect. Try again.\";\n\t\t});\n\t};\n\n\tshowRegister(){\n\t\tthis.user = {\n\t\t\tfirstName: \"\",\n\t\t\tlastName: \"\",\n\t\t\temail: \"\",\n\t\t\tpassword: \"\"\n\t\t}\n\t\tthis.registerError = \"\";\n\t\tthis.showLogin = false;\n\t}\n\n\tasync save(){\n\t\tlet serverResponse = await this.users.save(this.user);\n\t\tif (!serverResponse.error) {\n\t\t\tthis.showOK = true;\n\t\t\tthis.user = {\n\t\t\t\tfirstName: \"\",\n\t\t\t\tlastName: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\tpassword: \"\"\n\t\t\t}\n\t\t} else {\n\t\t\tthis.showError = true;\n\t\t}\n\t}\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {ToDos} from '../resources/data/todos';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(ToDos, AuthService, Router)\nexport class Wall {\n  constructor(todos, auth,router) {\n    this.todos = todos;\n  \tthis.router = router;\n    this.auth = auth;\n    this.user = JSON.parse(sessionStorage.getItem('user'));\n    this.message = this.user.firstName+\"'s To Do List \"\n    this.title = \"Ross Has Things ToDo!\"\n    this.editTodoForm = false;\n    this.showCompleted = false;\n    this.modalTitle = '';\n    this.selected = [];\n    this.priorities = ['Low', 'Medium', 'High', 'Critical'];\n  }\n\n  logout(){\n    sessionStorage.removeItem('user');\n    this.auth.logout();\n  }\n\n  selectAction(id,event){\n    var index = this.selected.indexOf(id);\n    if (index >= 0) {\n      this.selected.splice(index,1);\n    } else {\n      this.selected.push(id);\n    }\n\n    $(event.target).toggleClass('active');\n  }\n\n  createTodo(){\t\n    this.todoObj = {\n      todo: \"\",\n      description: \"\",\n      dateDue: new Date(),\n      userID: this.user._id,\n      priority: this.priorities[0]\n    }\n    this.modalTitle = 'New ToDo';\n    $('#mainModal').modal();\n  }\n\n\n  showTodo(todo){\n    this.todoObj = todo;\n    $('#showModal').modal();\n  }\n\n  editTodo(todo){\n    this.todoObj = todo;\n    $('#mainModal').modal();\n    this.modalTitle = 'Edit ToDo';\n  }\n\n  deleteTodo(){\n\n    for(var i = 0, l = this.selected.length; i < l; i ++) {\n      this.todos.deleteTodo(this.selected[i]);\n    }\n    this.selected = [];\n  }\n\n  completeTodo(todo){ \n    todo.completed = !todo.completed;\n    this.todoObj = todo;\n    this.saveTodo(false);\n  }\n\n  changeFiles(){\n    this.filesToUpload = new Array(); \n    this.filesToUpload.push(this.files[0]);\n  }\n   removeFile(index){\n    this.filesToUpload.splice(index,1);\n  }\n\n\n  async saveTodo(close){\n    if(this.todoObj){   \n      let response = await this.todos.save(this.todoObj);\n      if(response.error){\n        alert(\"There was an error creating the ToDo\");\n      } else {\n        var todoId = response._id;\n        if(this.filesToUpload && this.filesToUpload.length){\n          await this.todos.uploadFile(this.filesToUpload, this.user._id, todoId);\n          this.filesToUpload = [];\n        }\n      }\n      if (close) {\n        $('#mainModal').modal('toggle');\n      }\n    }\n  }\n\n  async activate(){\n    await  this.todos.getUserTodos(this.user._id);\n  }\n}","import { inject } from 'aurelia-framework';\nimport { HttpClient, json } from 'aurelia-fetch-client';\n\n@inject(HttpClient)\nexport class DataServices {\n  constructor(http) {\n    this.httpClient = http;\n    this.BASE_URL = \"/api/\";\n\n    this.httpClient.configure(config => {\n      config\n      .withBaseUrl(this.BASE_URL)\n      .withDefaults({\n        credentials: 'same-origin',\n        headers: {\n          'Accept': 'application/json',\n          'X-Requested-With': 'Fetch'\n        }\n      })\n      .withInterceptor({\n      request(request) {\n        console.log(`Requesting ${request.method} ${request.url}`);\n        return request;\n      },\n      response(response) {\n        console.log(`Received ${response.status} ${response.url}`);\n        return response;\n      }\n      });\n    });\n  }\n\n  get(url) {\n    return this.httpClient.fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        return data;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  post(content, url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'post',\n        body: json(content)\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  put(content, url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'put',\n        body: json(content)\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error;\n      });\n  }\n\n  delete(url) {\n    return this.httpClient\n      .fetch(url, {\n        method: 'delete'\n      })\n      .then(response => response.json())\n      .then(object => {\n        return object;\n      })\n      .catch(error => {\n        return error ;\n      });\n  }\n\n  uploadFiles(files, url){\n  return this.httpClient\n    .fetch(url, {\n      method: 'post',\n      body: files\n    })\n    .then(response => response.json())\n    .then(object => {\n      return object;\n    })\n    .catch(error => {\n      return error;\n    });\n  }\n\n}\n\n\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n @inject(DataServices)\nexport class ToDos {\n  constructor(data) {\n    this.data = data;\n    this.TODOS_SERVICE = 'todos';\n    this.todosArray = [];\n  }\n\n\n  updateArray(todo){\n    for(var i = 0, l = this.todosArray.length; i < l; i++ ){\n      if (this.todosArray[i]._id == todo._id){\n        this.todosArray[i] = todo;\n        break;\n      }\n    }\n  }\n\n  async save(todo){\n    if(!todo._id){\n      let response = await this.data.post(todo, this.TODOS_SERVICE);\n\n      if(!response.error){\n        this.todosArray.push(response);\n      }\n      return response;\n    } else {\n      let response = await this.data.put(todo, this.TODOS_SERVICE + \"/\" + todo._id);\n\n      if(!response.error){\n        this.updateArray(response);\n      }\n      return response;      \n    }\n  }\n\n  async uploadFile(files, userId, todoId){\n    let formData = new FormData();\n     files.forEach((item, index) => {\n      formData.append(\"file\" + index, item);\n    });\n    let response = await this.data.uploadFiles(formData, this.TODOS_SERVICE +   \"/upload/\" + userId + \"/\" + todoId);\n    return response;\n  }\n\n  async deleteTodo(id){\n    let response = await this.data.delete(this.TODOS_SERVICE + \"/\" + id);\n      if(!response.error){\n        for(let i = 0; i < this.todosArray.length; i++){\n        if(this.todosArray[i]._id === id){\n          this.todosArray.splice(i,1);\n        }\n      }\n    }\n  }\n        \n  async getUserTodos(id){\n    let response = await this.data.get(this.TODOS_SERVICE + \"/user/\" + id);\n    if(!response.error && !response.message){\n      this.todosArray = response;\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n @inject(DataServices)\nexport class Users {\n  constructor(data) {\n    this.data = data;\n    this.USER_SERVICE = 'users';\n  } \n\n  async save(user){\n    if(user){\n      let serverResponse = await this.data.post(user, this.USER_SERVICE);\n      return serverResponse;\n    }\n  }\n\n}\n","import {inject, bindable, bindingMode} from 'aurelia-framework';\nimport Flatpickr from 'flatpickr';\n\n @inject(Element)\nexport class FlatPickerCustomElement {\n\t @bindable({defaultBindingMode: bindingMode.twoWay}) value;\n\t constructor(element) {\n\t\tthis.element = element;\n\t}\n\n\tbind() {\n\t\tconst defaultConfig = { \n\t\t\taltInput: true,\n\t\t\taltFormat: \"F j, Y\",\n\t\t\twrap: true\n\t\t};\n\t\tthis._config = Object.assign({}, defaultConfig);\n\t\tthis._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\n\t}\n\n\tattached() {\n\t\tthis.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\n\t}\n\n\t onChange(selectedDates, dateStr, instance) {\n\t\tthis.value = selectedDates[0] \n\t}\n\n\tvalueChanged() {\n\t\tif (!this.flatpickr) {\n\t\t\treturn;\n\t\t}\n\t \n\t\tif (this.value === this.flatpickr.selectedDates[0]){\n\t\t\treturn;\n\t\t}\n\n\t\tlet newDate = this.value ? this.value : undefined;\n\t   this.flatpickr.setDate(newDate);\n\t}\n}","export class CompletedValueConverter {\n\ttoView(array, value) {\n\t\tif(!value){\n\t\t\treturn array.filter(item => {\n\t\t\t\treturn !item.completed;\n\t\t\t})\n\t\t} else {\n\t\t\treturn array;\n\t\t}\n\t}\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n\n\ttoView(value) {\n\t\tif(value === undefined || value === null){\n\t\t\treturn;\n\t\t}\n\t\treturn moment(value).format('MMM Do YYYY');\n\t}\n\n}"],"sourceRoot":".."}